{"version":3,"file":"component---src-pages-autoplay-tsx-fa86a3e368c3bc1dee44.js","mappings":"+IAiBO,IAAWA,EAAM,SAANA,GAAM,OAANA,EAAAA,EAAM,yBAANA,EAAAA,EAAM,yBAANA,EAAAA,EAAM,iCAANA,EAAAA,EAAM,iCAANA,EAAAA,EAAM,2BAANA,CAAM,K,iIC0DxB,UAhDYC,IAAgD,IAAAC,EAAAC,EAAA,IAA/C,KAAEC,GAAwCH,EACrD,MAAMI,EAAkB,QAAZH,EAAGE,EAAKE,YAAI,IAAAJ,GAAc,QAAdC,EAATD,EAAWK,oBAAY,IAAAJ,OAAd,EAATA,EAAyBK,UAClCC,GAAeC,EAAAA,EAAAA,IAAUL,EAAQL,EAAAA,EAAOW,WACxCC,EAAY,IAAIC,EAAAA,GAStB,OAPAC,EAAAA,EAAAA,YAAU,KACRF,EAAUG,OACH,KACLH,EAAUI,OAAM,EAAK,IAEtB,IAGDC,EAAAA,cAACC,EAAAA,EAAG,CACFC,GAAI,CAEFC,QAAS,OACTC,iBAAkB,cAGlBC,SAAU,WACVC,OAAQ,OACRC,UAAW,MACXC,MAAO,OACPC,SAAU,MACVC,UAAW,aACXC,KAAM,aAKRX,EAAAA,cAACY,EAAAA,GAAmB,CAClBpB,aAAcA,EACdqB,iBAAkBlB,EAAUmB,iBAAiBC,KAAKpB,GAClDqB,uBAAwBrB,EAAUsB,gBAAgBF,KAAKpB,KAEzDK,EAAAA,cAACC,EAAAA,EAAG,CACFC,GAAI,CACFgB,QAAS,EACTb,SAAU,aAGZL,EAAAA,cAACmB,EAAAA,GAAU,OAET,EAMH,MAAMC,EAAOC,EAAAA,E","sources":["webpack://periotrisjs/./src/PageID.ts","webpack://periotrisjs/./src/pages/autoplay.tsx"],"sourcesContent":["/*\n * Copyright (C) 2021-present Rong \"Mantle\" Bao\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see https://www.gnu.org/licenses/ .\n */\n\nexport const enum PageID {\n  PAGE_HOME,\n  PAGE_GAME,\n  PAGE_AUTOPLAY,\n  PAGE_SETTINGS,\n  PAGE_ABOUT,\n}\n","/*\n * Copyright (C) 2021-present Rong \"Mantle\" Bao\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see https://www.gnu.org/licenses/ .\n */\n\nimport { PageProps, graphql } from \"gatsby\"\nimport React, { useEffect } from \"react\"\n\nimport Box from \"@mui/material/Box\"\n\nimport { PageID } from \"../PageID\"\nimport { queryPath } from \"../common\"\nimport { BlocksGrid, CommonHead, GameControlBackdrop } from \"../components\"\nimport { AutoplayGameViewModel } from \"../viewmodel\"\n\nconst App = ({ data }: PageProps<Queries.GamePageQuery>) => {\n  const routes = data.site?.siteMetadata?.navRoutes\n  const homePagePath = queryPath(routes, PageID.PAGE_HOME)\n  const viewModel = new AutoplayGameViewModel()\n\n  useEffect(() => {\n    viewModel.init()\n    return () => {\n      viewModel.reset(true)\n    }\n  }, [])\n\n  return (\n    <Box\n      sx={{\n        /* display-related props */\n        display: \"grid\",\n        gridTemplateRows: \"1fr 90% 1fr\",\n\n        /* layouts: width, height, margin, padding, etc.*/\n        position: \"relative\",\n        height: \"100%\",\n        minHeight: \"0px\",\n        width: \"100%\",\n        minWidth: \"0px\",\n        boxSizing: \"border-box\",\n        flex: \"1 1 auto\" /* For common layout */,\n\n        /* element-specific props */\n      }}\n    >\n      <GameControlBackdrop\n        homePagePath={homePagePath}\n        startGameHandler={viewModel.requestStartGame.bind(viewModel)}\n        switchPauseGameHandler={viewModel.switchPauseGame.bind(viewModel)}\n      />\n      <Box\n        sx={{\n          gridRow: 2,\n          position: \"relative\",\n        }}\n      >\n        <BlocksGrid />\n      </Box>\n    </Box>\n  )\n}\n\nexport default App\n\nexport const Head = CommonHead\n\nexport const query = graphql`\n  query GamePage($language: String!) {\n    site {\n      siteMetadata {\n        navRoutes {\n          id\n          path\n        }\n      }\n    }\n\n    locales: allLocale(\n      filter: { ns: { in: [\"autoplay\"] }, language: { eq: $language } }\n    ) {\n      edges {\n        node {\n          ns\n          data\n          language\n        }\n      }\n    }\n  }\n`\n"],"names":["PageID","_ref","_data$site","_data$site$siteMetada","data","routes","site","siteMetadata","navRoutes","homePagePath","queryPath","PAGE_HOME","viewModel","AutoplayGameViewModel","useEffect","init","reset","React","Box","sx","display","gridTemplateRows","position","height","minHeight","width","minWidth","boxSizing","flex","GameControlBackdrop","startGameHandler","requestStartGame","bind","switchPauseGameHandler","switchPauseGame","gridRow","BlocksGrid","Head","CommonHead"],"sourceRoot":""}