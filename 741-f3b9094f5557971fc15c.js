!function(){var t,e,n={3346:function(t){"use strict";var e,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};e=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var o=Number.isNaN||function(t){return t!=t};function i(){i.init.call(this)}t.exports=i,t.exports.once=function(t,e){return new Promise((function(n,r){function o(n){t.removeListener(e,i),r(n)}function i(){"function"==typeof t.removeListener&&t.removeListener("error",o),n([].slice.call(arguments))}v(t,e,i,{once:!0}),"error"!==e&&function(t,e,n){"function"==typeof t.on&&v(t,"error",e,n)}(t,o,{once:!0})}))},i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var s=10;function c(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function a(t){return void 0===t._maxListeners?i.defaultMaxListeners:t._maxListeners}function u(t,e,n,r){var o,i,s,u;if(c(n),void 0===(i=t._events)?(i=t._events=Object.create(null),t._eventsCount=0):(void 0!==i.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),i=t._events),s=i[e]),void 0===s)s=i[e]=n,++t._eventsCount;else if("function"==typeof s?s=i[e]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(o=a(t))>0&&s.length>o&&!s.warned){s.warned=!0;var f=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");f.name="MaxListenersExceededWarning",f.emitter=t,f.type=e,f.count=s.length,u=f,console&&console.warn&&console.warn(u)}return t}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function l(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},o=f.bind(r);return o.listener=n,r.wrapFn=o,o}function p(t,e,n){var r=t._events;if(void 0===r)return[];var o=r[e];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(o):d(o,o.length)}function h(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function d(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function v(t,e,n,r){if("function"==typeof t.on)r.once?t.once(e,n):t.on(e,n);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function o(i){r.once&&t.removeEventListener(e,o),n(i)}))}}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(t){if("number"!=typeof t||t<0||o(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");s=t}}),i.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||o(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},i.prototype.getMaxListeners=function(){return a(this)},i.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var o="error"===t,i=this._events;if(void 0!==i)o=o&&void 0===i.error;else if(!o)return!1;if(o){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var c=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw c.context=s,c}var a=i[t];if(void 0===a)return!1;if("function"==typeof a)r(a,this,e);else{var u=a.length,f=d(a,u);for(n=0;n<u;++n)r(f[n],this,e)}return!0},i.prototype.addListener=function(t,e){return u(this,t,e,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(t,e){return u(this,t,e,!0)},i.prototype.once=function(t,e){return c(e),this.on(t,l(this,t,e)),this},i.prototype.prependOnceListener=function(t,e){return c(e),this.prependListener(t,l(this,t,e)),this},i.prototype.removeListener=function(t,e){var n,r,o,i,s;if(c(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===e||n[i].listener===e){s=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,o),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,s||e)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},i.prototype.listeners=function(t){return p(this,t,!0)},i.prototype.rawListeners=function(t){return p(this,t,!1)},i.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):h.call(t,e)},i.prototype.listenerCount=h,i.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}},75:function(t,e,n){var r=n(589),o=n(9966),i=n(3545),s=n(2901),c=n(3272);function a(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}a.prototype.clear=r,a.prototype.delete=o,a.prototype.get=i,a.prototype.has=s,a.prototype.set=c,t.exports=a},7443:function(t,e,n){var r=n(8286),o=n(5814),i=n(3855),s=n(7785),c=n(3323);function a(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}a.prototype.clear=r,a.prototype.delete=o,a.prototype.get=i,a.prototype.has=s,a.prototype.set=c,t.exports=a},495:function(t,e,n){var r=n(5040)(n(1737),"Map");t.exports=r},2484:function(t,e,n){var r=n(8342),o=n(4104),i=n(307),s=n(5284),c=n(792);function a(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}a.prototype.clear=r,a.prototype.delete=o,a.prototype.get=i,a.prototype.has=s,a.prototype.set=c,t.exports=a},8009:function(t,e,n){var r=n(5040)(n(1737),"Set");t.exports=r},4657:function(t,e,n){var r=n(2484),o=n(9993),i=n(8397);function s(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}s.prototype.add=s.prototype.push=o,s.prototype.has=i,t.exports=s},7948:function(t,e,n){var r=n(1737).Symbol;t.exports=r},981:function(t,e,n){var r=n(2421);t.exports=function(t,e){return!!(null==t?0:t.length)&&r(t,e,0)>-1}},6980:function(t){t.exports=function(t,e,n){for(var r=-1,o=null==t?0:t.length;++r<o;)if(n(e,t[r]))return!0;return!1}},8559:function(t,e,n){var r=n(1305),o=n(1710),i=n(5821),s=n(3521),c=n(457),a=n(4403),u=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=i(t),f=!n&&o(t),l=!n&&!f&&s(t),p=!n&&!f&&!l&&a(t),h=n||f||l||p,d=h?r(t.length,String):[],v=d.length;for(var g in t)!e&&!u.call(t,g)||h&&("length"==g||l&&("offset"==g||"parent"==g)||p&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||c(g,v))||d.push(g);return d}},6400:function(t){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}},786:function(t,e,n){var r=n(566),o=n(4470);t.exports=function(t){return o(r(t))}},2188:function(t,e,n){var r=n(648);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},4024:function(t){t.exports=function(t,e,n,r){for(var o=t.length,i=n+(r?1:-1);r?i--:++i<o;)if(e(t[i],i,t))return i;return-1}},9:function(t,e,n){var r=n(7948),o=n(7067),i=n(7738),s=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":s&&s in Object(t)?o(t):i(t)}},2421:function(t,e,n){var r=n(4024),o=n(8095),i=n(7711);t.exports=function(t,e,n){return e==e?i(t,e,n):r(t,o,n)}},5898:function(t,e,n){var r=n(9),o=n(4007);t.exports=function(t){return o(t)&&"[object Arguments]"==r(t)}},8095:function(t){t.exports=function(t){return t!=t}},3882:function(t,e,n){var r=n(1144),o=n(9595),i=n(2259),s=n(7687),c=/^\[object .+?Constructor\]$/,a=Function.prototype,u=Object.prototype,f=a.toString,l=u.hasOwnProperty,p=RegExp("^"+f.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!i(t)||o(t))&&(r(t)?p:c).test(s(t))}},5889:function(t,e,n){var r=n(9),o=n(2834),i=n(4007),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,t.exports=function(t){return i(t)&&o(t.length)&&!!s[r(t)]}},1703:function(t,e,n){var r=n(6561),o=n(912),i=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return o(t);var e=[];for(var n in Object(t))i.call(t,n)&&"constructor"!=n&&e.push(n);return e}},1082:function(t){var e=Math.floor,n=Math.random;t.exports=function(t,r){return t+e(n()*(r-t+1))}},5234:function(t){var e=Math.ceil,n=Math.max;t.exports=function(t,r,o,i){for(var s=-1,c=n(e((r-t)/(o||1)),0),a=Array(c);c--;)a[i?c:++s]=t,t+=o;return a}},9006:function(t,e,n){var r=n(4470),o=n(3119);t.exports=function(t){return r(o(t))}},1305:function(t){t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},4605:function(t,e,n){var r=n(7814),o=/^\s+/;t.exports=function(t){return t?t.slice(0,r(t)+1).replace(o,""):t}},9431:function(t){t.exports=function(t){return function(e){return t(e)}}},2341:function(t,e,n){var r=n(4657),o=n(981),i=n(6980),s=n(4961),c=n(7204),a=n(5219);t.exports=function(t,e,n){var u=-1,f=o,l=t.length,p=!0,h=[],d=h;if(n)p=!1,f=i;else if(l>=200){var v=e?null:c(t);if(v)return a(v);p=!1,f=s,d=new r}else d=e?[]:h;t:for(;++u<l;){var g=t[u],y=e?e(g):g;if(g=n||0!==g?g:0,p&&y==y){for(var w=d.length;w--;)if(d[w]===y)continue t;e&&d.push(y),h.push(g)}else f(d,y,n)||(d!==h&&d.push(y),h.push(g))}return h}},1398:function(t,e,n){var r=n(6400);t.exports=function(t,e){return r(e,(function(e){return t[e]}))}},4961:function(t){t.exports=function(t,e){return t.has(e)}},566:function(t){t.exports=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},5677:function(t,e,n){var r=n(1737)["__core-js_shared__"];t.exports=r},5479:function(t,e,n){var r=n(5234),o=n(894),i=n(6634);t.exports=function(t){return function(e,n,s){return s&&"number"!=typeof s&&o(e,n,s)&&(n=s=void 0),e=i(e),void 0===n?(n=e,e=0):n=i(n),s=void 0===s?e<n?1:-1:i(s),r(e,n,s,t)}}},7204:function(t,e,n){var r=n(8009),o=n(6570),i=n(5219),s=r&&1/i(new r([,-0]))[1]==1/0?function(t){return new r(t)}:o;t.exports=s},702:function(t,e,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;t.exports=r},1879:function(t,e,n){var r=n(412);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},5040:function(t,e,n){var r=n(3882),o=n(8173);t.exports=function(t,e){var n=o(t,e);return r(n)?n:void 0}},7067:function(t,e,n){var r=n(7948),o=Object.prototype,i=o.hasOwnProperty,s=o.toString,c=r?r.toStringTag:void 0;t.exports=function(t){var e=i.call(t,c),n=t[c];try{t[c]=void 0;var r=!0}catch(a){}var o=s.call(t);return r&&(e?t[c]=n:delete t[c]),o}},8173:function(t){t.exports=function(t,e){return null==t?void 0:t[e]}},589:function(t,e,n){var r=n(4606);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},9966:function(t){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},3545:function(t,e,n){var r=n(4606),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(e,t)?e[t]:void 0}},2901:function(t,e,n){var r=n(4606),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:o.call(e,t)}},3272:function(t,e,n){var r=n(4606);t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},457:function(t){var e=/^(?:0|[1-9]\d*)$/;t.exports=function(t,n){var r=typeof t;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&e.test(t))&&t>-1&&t%1==0&&t<n}},894:function(t,e,n){var r=n(648),o=n(4434),i=n(457),s=n(2259);t.exports=function(t,e,n){if(!s(n))return!1;var c=typeof e;return!!("number"==c?o(n)&&i(e,n.length):"string"==c&&e in n)&&r(n[e],t)}},412:function(t){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},9595:function(t,e,n){var r,o=n(5677),i=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.exports=function(t){return!!i&&i in t}},6561:function(t){var e=Object.prototype;t.exports=function(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||e)}},8286:function(t){t.exports=function(){this.__data__=[],this.size=0}},5814:function(t,e,n){var r=n(2188),o=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0)&&(n==e.length-1?e.pop():o.call(e,n,1),--this.size,!0)}},3855:function(t,e,n){var r=n(2188);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},7785:function(t,e,n){var r=n(2188);t.exports=function(t){return r(this.__data__,t)>-1}},3323:function(t,e,n){var r=n(2188);t.exports=function(t,e){var n=this.__data__,o=r(n,t);return o<0?(++this.size,n.push([t,e])):n[o][1]=e,this}},8342:function(t,e,n){var r=n(75),o=n(7443),i=n(495);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},4104:function(t,e,n){var r=n(1879);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},307:function(t,e,n){var r=n(1879);t.exports=function(t){return r(this,t).get(t)}},5284:function(t,e,n){var r=n(1879);t.exports=function(t){return r(this,t).has(t)}},792:function(t,e,n){var r=n(1879);t.exports=function(t,e){var n=r(this,t),o=n.size;return n.set(t,e),this.size+=n.size==o?0:1,this}},4606:function(t,e,n){var r=n(5040)(Object,"create");t.exports=r},912:function(t,e,n){var r=n(2134)(Object.keys,Object);t.exports=r},7922:function(t,e,n){t=n.nmd(t);var r=n(702),o=e&&!e.nodeType&&e,i=o&&t&&!t.nodeType&&t,s=i&&i.exports===o&&r.process,c=function(){try{var t=i&&i.require&&i.require("util").types;return t||s&&s.binding&&s.binding("util")}catch(e){}}();t.exports=c},7738:function(t){var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},2134:function(t){t.exports=function(t,e){return function(n){return t(e(n))}}},1737:function(t,e,n){var r=n(702),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();t.exports=i},9993:function(t){t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},8397:function(t){t.exports=function(t){return this.__data__.has(t)}},5219:function(t){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}},4470:function(t,e,n){var r=n(1082);t.exports=function(t,e){var n=-1,o=t.length,i=o-1;for(e=void 0===e?o:e;++n<e;){var s=r(n,i),c=t[s];t[s]=t[n],t[n]=c}return t.length=e,t}},7711:function(t){t.exports=function(t,e,n){for(var r=n-1,o=t.length;++r<o;)if(t[r]===e)return r;return-1}},7687:function(t){var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(n){}try{return t+""}catch(n){}}return""}},7814:function(t){var e=/\s/;t.exports=function(t){for(var n=t.length;n--&&e.test(t.charAt(n)););return n}},648:function(t){t.exports=function(t,e){return t===e||t!=t&&e!=e}},1710:function(t,e,n){var r=n(5898),o=n(4007),i=Object.prototype,s=i.hasOwnProperty,c=i.propertyIsEnumerable,a=r(function(){return arguments}())?r:function(t){return o(t)&&s.call(t,"callee")&&!c.call(t,"callee")};t.exports=a},5821:function(t){var e=Array.isArray;t.exports=e},4434:function(t,e,n){var r=n(1144),o=n(2834);t.exports=function(t){return null!=t&&o(t.length)&&!r(t)}},3521:function(t,e,n){t=n.nmd(t);var r=n(1737),o=n(9639),i=e&&!e.nodeType&&e,s=i&&t&&!t.nodeType&&t,c=s&&s.exports===i?r.Buffer:void 0,a=(c?c.isBuffer:void 0)||o;t.exports=a},1144:function(t,e,n){var r=n(9),o=n(2259);t.exports=function(t){if(!o(t))return!1;var e=r(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},2834:function(t){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},2259:function(t){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},4007:function(t){t.exports=function(t){return null!=t&&"object"==typeof t}},9855:function(t,e,n){var r=n(9),o=n(4007);t.exports=function(t){return"symbol"==typeof t||o(t)&&"[object Symbol]"==r(t)}},4403:function(t,e,n){var r=n(5889),o=n(9431),i=n(7922),s=i&&i.isTypedArray,c=s?o(s):r;t.exports=c},5174:function(t,e,n){var r=n(8559),o=n(1703),i=n(4434);t.exports=function(t){return i(t)?r(t):o(t)}},6570:function(t){t.exports=function(){}},4794:function(t,e,n){var r=n(5479)();t.exports=r},5018:function(t,e,n){var r=n(786),o=n(9006),i=n(5821);t.exports=function(t){return(i(t)?r:o)(t)}},9639:function(t){t.exports=function(){return!1}},6634:function(t,e,n){var r=n(7425),o=1/0;t.exports=function(t){return t?(t=r(t))===o||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}},7425:function(t,e,n){var r=n(4605),o=n(2259),i=n(9855),s=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,a=/^0o[0-7]+$/i,u=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(i(t))return NaN;if(o(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=o(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=r(t);var n=c.test(t);return n||a.test(t)?u(t.slice(2),n?2:8):s.test(t)?NaN:+t}},680:function(t,e,n){var r=n(2341);t.exports=function(t){return t&&t.length?r(t):[]}},3119:function(t,e,n){var r=n(1398),o=n(5174);t.exports=function(t){return null==t?[]:r(t,o(t))}},7696:function(t){function e(t,e){var n=t.length,r=new Array(n),o={},i=n,s=function(t){for(var e=new Map,n=0,r=t.length;n<r;n++){var o=t[n];e.has(o[0])||e.set(o[0],new Set),e.has(o[1])||e.set(o[1],new Set),e.get(o[0]).add(o[1])}return e}(e),c=function(t){for(var e=new Map,n=0,r=t.length;n<r;n++)e.set(t[n],n);return e}(t);for(e.forEach((function(t){if(!c.has(t[0])||!c.has(t[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")}));i--;)o[i]||a(t[i],i,new Set);return r;function a(t,e,i){if(i.has(t)){var u;try{u=", node was:"+JSON.stringify(t)}catch(p){u=""}throw new Error("Cyclic dependency"+u)}if(!c.has(t))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(t));if(!o[e]){o[e]=!0;var f=s.get(t)||new Set;if(e=(f=Array.from(f)).length){i.add(t);do{var l=f[--e];a(l,c.get(l),i)}while(e);i.delete(t)}r[--n]=t}}}t.exports=function(t){return e(function(t){for(var e=new Set,n=0,r=t.length;n<r;n++){var o=t[n];e.add(o[0]),e.add(o[1])}return Array.from(e)}(t),t)},t.exports.array=e},3277:function(t,e){"use strict";e.__esModule=!0,e.StopwatchUpdateIntervalMilliseconds=e.SettingsLocalStorageKey=e.HistoryLocalStorageKey=e.DefaultGameUpdateIntervalMilliseconds=e.DefaultBorderThickness=void 0;e.DefaultGameUpdateIntervalMilliseconds=1e3;e.StopwatchUpdateIntervalMilliseconds=500;e.HistoryLocalStorageKey="history";e.SettingsLocalStorageKey="settings";e.DefaultBorderThickness=1},7157:function(t,e,n){"use strict";e.__esModule=!0,e.flushed=function(t){return(...e)=>(0,r.flushSync)((()=>t(...e)))};var r=n(4035)},6326:function(t,e,n){"use strict";e.__esModule=!0,e.formatDuration=function(t){if((0,r.isNil)(t)||isNaN(t)||t<0)return"--:--";const e=Math.round(t/1e3),n=Math.floor(e/60).toString().padStart(2,"0"),o=(e%60).toString().padStart(2,"0");return`${n}:${o}`};var r=n(8569)},4729:function(t,e,n){"use strict";e.__esModule=!0;var r=n(3277);e.DefaultBorderThickness=r.DefaultBorderThickness,e.DefaultGameUpdateIntervalMilliseconds=r.DefaultGameUpdateIntervalMilliseconds,e.HistoryLocalStorageKey=r.HistoryLocalStorageKey,e.SettingsLocalStorageKey=r.SettingsLocalStorageKey,e.StopwatchUpdateIntervalMilliseconds=r.StopwatchUpdateIntervalMilliseconds;var o=n(7157);e.flushed=o.flushed;var i=n(6326);e.formatDuration=i.formatDuration;var s=n(8569);e.isNil=s.isNil;var c=n(9836);e.rearrange=c.rearrange;var a=n(5995);e.waitForEvent=a.waitForEvent},8569:function(t,e){"use strict";e.__esModule=!0,e.isNil=function(t){return null==t}},9836:function(t,e){"use strict";e.__esModule=!0,e.rearrange=function(t,e){if(t.length!==e.length)throw new Error(`rearrange: array length ${t.length} !== indices length ${e.length}`);const n=[];for(let r=0;r<e.length;r++)n.push(t[e[r]]);return n}},5995:function(t,e,n){"use strict";e.__esModule=!0,e.waitForEvent=async function(t,e,n){return new Promise(((i,s)=>{const c=t instanceof r.EventEmitter?t.once:(e,n)=>{t.addEventListener(e,n,{once:!0})};c(e,i),(0,o.isNil)(n)||c(n,s)}))};var r=n(3346),o=n(8569)},1104:function(t,e){"use strict";e.__esModule=!0,e.Block=void 0;e.Block=class{constructor(t,e,n=0,r=0){this.filledBy=t,this.position=e,this.atomicNumber=n,this.id=r}}},3118:function(t,e){"use strict";e.__esModule=!0,e.RotationDirection=e.MoveDirection=e.Direction=void 0;let n=function(t){return t[t.Left=0]="Left",t[t.Up=1]="Up",t[t.Right=2]="Right",t[t.Down=3]="Down",t[t.LENGTH=4]="LENGTH",t}({});e.Direction=n;let r=function(t){return t[t.Left=0]="Left",t[t.Right=1]="Right",t[t.LENGTH=2]="LENGTH",t}({});e.RotationDirection=r;let o=function(t){return t[t.Left=0]="Left",t[t.Right=1]="Right",t[t.Down=2]="Down",t[t.LENGTH=3]="LENGTH",t}({});e.MoveDirection=o},3509:function(t,e,n){"use strict";e.__esModule=!0,e.Tetrimino=void 0,e.repairBrokenTetriminos=function(t){return t.map((t=>Object.create(s.prototype,Object.getOwnPropertyDescriptors(t))))};var r=n(3118),o=n(830),i=n(5964);class s{tryMove(t,e){const n=t===r.MoveDirection.Down?1:0,o=(t===r.MoveDirection.Down?0:1)*(t===r.MoveDirection.Right?1:-1),i=this.blocks.map((t=>({...t,position:[t.position[0]+o,t.position[1]+n]})));return!i.some(e)&&(this.position=[this.position[0]+o,this.position[1]+n],this.blocks=i,!0)}tryRotate(t,e){const n=r.Direction.LENGTH/2,s=t===r.RotationDirection.Right?1:-1,c=(this.facingDirection+s+n)%n,a=this.kind===i.TetriminoKind.Linear?[0,1,-1,2,-2]:[0,1,-1];for(let r=0,i=a.length;r<i;r++){const t=[this.position[0]+a[r],this.position[1]],n=(0,o.createOffsetBlocks)(this.kind,t,c);if(!n.some(e))return(0,o.mapAtomicNumberInto)(this.blocks,n),this.facingDirection=c,this.position=t,this.blocks=n,!0}return!1}constructor(t,e,n){this.kind=t,this.position=e,this.facingDirection=n,this.blocks=(0,o.createOffsetBlocks)(t,e,n)}}e.Tetrimino=s},830:function(t,e,n){"use strict";e.__esModule=!0,e.createOffsetBlocks=function(t,e,n=o.Direction.Up){const C=function(t,e){switch(t){case i.TetriminoKind.Linear:switch(e){case o.Direction.Left:return v;case o.Direction.Up:return y;case o.Direction.Right:return g;case o.Direction.Down:return d;default:throw new RangeError(`getBlocksMask: invalid direction ${e}`)}case i.TetriminoKind.Cubic:switch(e){case o.Direction.Up:return u;case o.Direction.Right:return a;case o.Direction.Down:return s;case o.Direction.Left:return c;default:throw new RangeError(`getBlocksMask: invalid direction ${e}`)}case i.TetriminoKind.LShapedCis:switch(e){case o.Direction.Up:return h;case o.Direction.Right:return p;case o.Direction.Down:return f;case o.Direction.Left:return l;default:throw new RangeError(`getBlocksMask: invalid direction ${e}`)}case i.TetriminoKind.LShapedTrans:switch(e){case o.Direction.Up:return _;case o.Direction.Right:return b;case o.Direction.Down:return w;case o.Direction.Left:return m;default:throw new RangeError(`getBlocksMask: invalid direction ${e}`)}case i.TetriminoKind.ZigZagCis:switch(e){case o.Direction.Up:return M;case o.Direction.Right:return E;case o.Direction.Down:return k;case o.Direction.Left:return j;default:throw new RangeError(`getBlocksMask: invalid direction ${e}`)}case i.TetriminoKind.ZigZagTrans:switch(e){case o.Direction.Up:return B;case o.Direction.Right:return O;case o.Direction.Down:return S;case o.Direction.Left:return R;default:throw new RangeError(`getBlocksMask: invalid direction ${e}`)}case i.TetriminoKind.TeeShaped:switch(e){case o.Direction.Up:return T;case o.Direction.Right:return L;case o.Direction.Down:return x;case o.Direction.Left:return D;default:throw new RangeError(`getBlocksMask: invalid direction ${e}`)}default:throw new RangeError(`getBlocksMask: invalid kind ${t}`)}}(t,n),N=new Array(4),[K,A]=e;let F=0;for(let o=0,i=C.length;o<i;o++){const e=C[o];for(let n=0,i=e.length;n<i;n++){const i=e[n];0!==i&&(N[F]=new r.Block(t,[n+K,o+A],0,i),F+=1)}}return N},e.getFirstBlockCoordByType=C,e.getInitialPosition=function(t,e){let n;switch(t){case i.TetriminoKind.Linear:n=4;break;case i.TetriminoKind.Cubic:n=2;break;case i.TetriminoKind.LShapedCis:case i.TetriminoKind.LShapedTrans:case i.TetriminoKind.TeeShaped:case i.TetriminoKind.ZigZagCis:case i.TetriminoKind.ZigZagTrans:n=3;break;default:throw new RangeError(`getInitialPosition: invalid kind ${t}`)}return[Math.floor((e.width-n)/2),0]},e.getPositionByFirstBlock=function(t,e,n){const r=C(e,n),o=r.row,i=r.col;return[t[0]-i,t[1]-o]},e.mapAtomicNumberInto=function(t,e){if(t.length!==e.length)throw new Error(`mapAtomicNumberInto: length mismatch ${t.length}!==${e.length}`);e.forEach((e=>{const n=t.filter((t=>e.id===t.id))[0].atomicNumber;e.atomicNumber=n}))};var r=n(1104),o=n(3118),i=n(5964);const s=[[3,4],[2,1]],c=[[2,3],[1,4]],a=[[4,1],[3,2]],u=[[1,2],[4,3]],f=[[4,3,0],[0,2,0],[0,1,0]],l=[[0,0,4],[1,2,3],[0,0,0]],p=[[0,0,0],[3,2,1],[4,0,0]],h=[[0,1,0],[0,2,0],[0,3,4]],d=[[0,0,4,0],[0,0,3,0],[0,0,2,0],[0,0,1,0]],v=[[0,0,0,0],[0,0,0,0],[1,2,3,4],[0,0,0,0]],g=[[0,0,0,0],[4,3,2,1],[0,0,0,0],[0,0,0,0]],y=[[0,1,0,0],[0,2,0,0],[0,3,0,0],[0,4,0,0]],w=[[0,3,4],[0,2,0],[0,1,0]],m=[[0,0,0],[1,2,3],[0,0,4]],b=[[4,0,0],[3,2,1],[0,0,0]],_=[[0,1,0],[0,2,0],[4,3,0]],x=[[0,0,0],[4,3,2],[0,1,0]],D=[[0,4,0],[1,3,0],[0,2,0]],L=[[0,2,0],[0,3,1],[0,4,0]],T=[[0,1,0],[2,3,4],[0,0,0]],k=[[0,0,0],[4,3,0],[0,2,1]],j=[[0,4,0],[2,3,0],[1,0,0]],E=[[0,0,1],[0,3,2],[0,4,0]],M=[[1,2,0],[0,3,4],[0,0,0]],S=[[0,0,0],[0,2,1],[4,3,0]],R=[[4,0,0],[3,2,0],[0,1,0]],O=[[0,1,0],[0,2,3],[0,0,4]],B=[[0,3,4],[1,2,0],[0,0,0]];function C(t,e){switch(t){case i.TetriminoKind.Linear:switch(e){case o.Direction.Left:return{row:2,col:3};case o.Direction.Up:return{row:3,col:1};case o.Direction.Right:return{row:1,col:3};case o.Direction.Down:return{row:3,col:2};default:throw new RangeError(`getFirstBlockCoordByType: invalid direction ${e}`)}case i.TetriminoKind.Cubic:return{row:1,col:1};case i.TetriminoKind.LShapedCis:switch(e){case o.Direction.Left:return{row:1,col:2};case o.Direction.Up:return{row:2,col:2};case o.Direction.Right:return{row:2,col:0};case o.Direction.Down:return{row:2,col:1};default:throw new RangeError(`getFirstBlockCoordByType: invalid direction ${e}`)}case i.TetriminoKind.LShapedTrans:switch(e){case o.Direction.Left:return{row:2,col:2};case o.Direction.Up:return{row:2,col:1};case o.Direction.Right:return{row:1,col:2};case o.Direction.Down:return{row:2,col:1};default:throw new RangeError(`getFirstBlockCoordByType: invalid direction ${e}`)}case i.TetriminoKind.ZigZagCis:switch(e){case o.Direction.Left:return{row:2,col:0};case o.Direction.Up:return{row:1,col:2};case o.Direction.Right:return{row:2,col:1};case o.Direction.Down:return{row:2,col:2};default:throw new RangeError(`getFirstBlockCoordByType: invalid direction ${e}`)}case i.TetriminoKind.ZigZagTrans:switch(e){case o.Direction.Left:return{row:2,col:1};case o.Direction.Up:return{row:1,col:1};case o.Direction.Right:return{row:2,col:2};case o.Direction.Down:return{row:2,col:1};default:throw new RangeError(`getFirstBlockCoordByType: invalid direction ${e}`)}case i.TetriminoKind.TeeShaped:switch(e){case o.Direction.Left:return{row:2,col:1};case o.Direction.Up:return{row:1,col:2};case o.Direction.Right:case o.Direction.Down:return{row:2,col:1};default:throw new RangeError(`getFirstBlockCoordByType: invalid direction ${e}`)}default:throw new RangeError(`getFirstBlockCoordByType: invalid kind ${t}`)}}},5964:function(t,e){"use strict";e.__esModule=!0,e.TetriminoKind=void 0;let n=function(t){return t[t.Linear=0]="Linear",t[t.Cubic=1]="Cubic",t[t.LShapedCis=2]="LShapedCis",t[t.LShapedTrans=3]="LShapedTrans",t[t.ZigZagCis=4]="ZigZagCis",t[t.ZigZagTrans=5]="ZigZagTrans",t[t.TeeShaped=6]="TeeShaped",t[t.Free=7]="Free",t[t.Reserved=8]="Reserved",t[t.LENGTH=9]="LENGTH",t}({});e.TetriminoKind=n},583:function(t,e){"use strict";e.__esModule=!0,e.MessageType=void 0;let n=function(t){return t[t.RequestGeneration=0]="RequestGeneration",t[t.ResponseSuccess=1]="ResponseSuccess",t[t.ResponseFailed=2]="ResponseFailed",t[t.ResponseProgress=3]="ResponseProgress",t}({});e.MessageType=n},9741:function(t,e,n){"use strict";var r=n(583),o=n(7967);const i=self;i.onmessage=async t=>{const e=t.data;if(e.type===r.MessageType.RequestGeneration)await async function(t){try{const e=await(0,o.getPlayablePattern)(t);i.postMessage({type:r.MessageType.ResponseSuccess,content:e})}catch(e){i.postMessage({type:r.MessageType.ResponseFailed,content:e})}}(e.content)}},7967:function(t,e,n){"use strict";var r=n(7989);e.__esModule=!0,e.NoSolutionError=void 0,e.getPlayablePattern=async function(t,e){const n=t.map,r=n.map((t=>t.map((t=>t.atomicNumber)))),s=n.map((t=>t.map((t=>t.filledBy===l.TetriminoKind.Free)))),w=(0,p.sort)(await async function(t,e,n,r){const s=[],c=[];let a=!1;for(;!(n<=0);){let e;if(a){if(0===s.length)throw new d;e=h(c);const r=h(s);r.blocks.forEach((e=>{t[e.position[1]][e.position[0]]=!0})),n+=r.blocks.length}else e=(0,o.default)((0,i.default)(0,v.length));const l=y(t);for(a=!0;e.length>0;){const[o,i]=v[h(e)],p=new u.Tetrimino(o,(0,f.getPositionByFirstBlock)(l,o,i),i);if(!p.blocks.some(g.bind(void 0,t))){s.push(p),c.push(e),p.blocks.forEach((e=>{t[e.position[1]][e.position[0]]=!1})),n-=p.blocks.length,null==r||r(n),a=!1;break}if(!a)break}}return s.forEach((t=>{t.blocks.forEach((t=>{t.atomicNumber=e[t.position[1]][t.position[0]]}))})),s}(s,r,t.totalAvailableBlocksCount,e),t.playAreaSize),m=(0,u.repairBrokenTetriminos)(w);return function(t,e){t.forEach((t=>{const n=t.position,r=(0,f.getInitialPosition)(t.kind,e),o=r[0]-n[0],i=r[1]-n[1];t.blocks=t.blocks.map((t=>new c.Block(t.filledBy,[t.position[0]+o,t.position[1]+i],t.atomicNumber,t.id))),t.position=r;const s=(u=0,l=Math.floor(a.Direction.LENGTH/2)+1,u+Math.floor(Math.random()*(l-u)));var u,l;for(let e=0;e<s;e++)t.tryRotate(a.RotationDirection.Right,(()=>!1))}))}(m,t.playAreaSize),m};var o=r(n(5018)),i=r(n(4794)),s=n(4729),c=n(1104),a=n(3118),u=n(3509),f=n(830),l=n(5964),p=n(3234);function h(t){const e=t.pop();if((0,s.isNil)(e))throw new Error("spliceLast: array is empty");return e}class d extends Error{}e.NoSolutionError=d;const v=[l.TetriminoKind.LShapedCis,l.TetriminoKind.LShapedTrans,l.TetriminoKind.Linear,l.TetriminoKind.TeeShaped,l.TetriminoKind.ZigZagCis,l.TetriminoKind.ZigZagTrans].flatMap((t=>[[t,a.Direction.Left],[t,a.Direction.Up],[t,a.Direction.Right],[t,a.Direction.Down]])).concat([[l.TetriminoKind.Cubic,a.Direction.Left]]);function g(t,e){const n=e.position[1],r=e.position[0];return r<0||r>=t[0].length||n<0||n>=t.length||!t[n][r]}function y(t){for(let e=t.length-1;e>=0;e--){const n=t[e];for(let t=n.length-1;t>=0;t--)if(n[t])return[t,e]}return[-1,-1]}},3234:function(t,e,n){"use strict";var r=n(7989);e.__esModule=!0,e.sort=function(t,e){const n=function(t,e){const n=new Array(e.height);for(let r=0;r<e.height;r++)n[r]=new Array(e.width);for(let r=0;r<t.length;r++){const e=t[r];for(let t=0;t<e.blocks.length;t++){const o=e.blocks[t];n[o.position[1]][o.position[0]]=r}}return(0,o.default)(t.map(((t,r)=>{const o=[];for(let i=0;i<t.blocks.length;i++){const a=t.blocks[i],u=c(n,a.position[1]+1,a.position[0],e);(0,s.isNil)(u)||u===r||o.push([u,r])}return o})).flat())}(t,e),r=(0,i.default)(n);return(0,s.rearrange)(t,r)};var o=r(n(680)),i=r(n(7696)),s=n(4729);function c(t,e,n,r){var o;return e<0||e>=r.height||n<0||n>=r.width?null:null!==(o=t[e][n])&&void 0!==o?o:null}},7989:function(t){t.exports=function(t){return t&&t.__esModule?t:{default:t}},t.exports.__esModule=!0,t.exports.default=t.exports}},r={};function o(t){var e=r[t];if(void 0!==e)return e.exports;var i=r[t]={id:t,loaded:!1,exports:{}};return n[t](i,i.exports,o),i.loaded=!0,i.exports}o.m=n,o.x=function(){var t=o.O(void 0,[774],(function(){return o(9741)}));return t=o.O(t)},t=[],o.O=function(e,n,r,i){if(!n){var s=1/0;for(f=0;f<t.length;f++){n=t[f][0],r=t[f][1],i=t[f][2];for(var c=!0,a=0;a<n.length;a++)(!1&i||s>=i)&&Object.keys(o.O).every((function(t){return o.O[t](n[a])}))?n.splice(a--,1):(c=!1,i<s&&(s=i));if(c){t.splice(f--,1);var u=r();void 0!==u&&(e=u)}}return e}i=i||0;for(var f=t.length;f>0&&t[f-1][2]>i;f--)t[f]=t[f-1];t[f]=[n,r,i]},o.f={},o.e=function(t){return Promise.all(Object.keys(o.f).reduce((function(e,n){return o.f[n](t,e),e}),[]))},o.u=function(t){return"framework-65ba14f6d82d27ac1f25.js"},o.miniCssF=function(t){},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t},o.p="/periotrisjs/",function(){var t={741:1};o.f.i=function(e,n){t[e]||importScripts(o.p+o.u(e))};var e=self.webpackChunkperiotrisjs=self.webpackChunkperiotrisjs||[],n=e.push.bind(e);e.push=function(e){var r=e[0],i=e[1],s=e[2];for(var c in i)o.o(i,c)&&(o.m[c]=i[c]);for(s&&s(o);r.length;)t[r.pop()]=1;n(e)}}(),e=o.x,o.x=function(){return o.e(774).then(e)};o.x()}();
//# sourceMappingURL=741-f3b9094f5557971fc15c.js.map